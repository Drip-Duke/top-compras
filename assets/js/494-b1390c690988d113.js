"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{53166:function(e,t,o){o.d(t,{CartProvider:function(){return f},j:function(){return g}});var a=o(57437),n=o(56225),i=o(2265),l=o(39343),r=o(31014),d=o(59772),u=o(16463),c=o(7667),m=o(49991);let s=(0,i.createContext)({}),v=["@gmil.com","@gmai.com","@gmal.com","@gail.com","@gmalil.com","@gnail.com","@gamil.com","@gmaiil.com","@gmall.com","@gmail.co","@gmail.con","@gmail.cm","@gmaail.com","@gmaol.com","@gmial.com"],p=d.z.object({method:d.z.string(),bankPix:d.z.string().optional(),bankCard:d.z.string().optional(),hasData:d.z.boolean(),name:d.z.string(),cpf:d.z.string(),email:d.z.string().email("Por favor informe um e-mail v\xe1lido."),confirmEmail:d.z.string().email("Por favor informe um e-mail v\xe1lido."),cupom:d.z.string().optional(),cardNumber:d.z.string().optional(),cardMonthYear:d.z.string().optional(),cardCVV:d.z.string().optional()}).superRefine((e,t)=>{e.email!==e.confirmEmail&&t.addIssue({path:["confirmEmail"],code:d.z.ZodIssueCode.custom,message:"Os e-mails precisam ser iguais."}),v.some(t=>e.confirmEmail.endsWith(t))&&t.addIssue({path:["confirmEmail"],code:d.z.ZodIssueCode.custom,message:"O e-mail informado \xe9 inv\xe1lido. Voc\xea quis dizer @gmail.com?"}),(e.hasData||"card"===e.method&&"stripe"!==e.bankCard)&&(e.name&&""!==e.name.trim()?e.name.length<6&&t.addIssue({path:["name"],code:d.z.ZodIssueCode.too_small,minimum:6,type:"string",inclusive:!0,message:"\xc9 necess\xe1rio conter no m\xednimo 6 caracteres."}):t.addIssue({path:["name"],code:d.z.ZodIssueCode.custom,message:"Voc\xea precisa informar o seu nome."}),e.cpf?e.cpf.length<11&&t.addIssue({path:["cpf"],code:d.z.ZodIssueCode.too_small,minimum:11,type:"string",inclusive:!0,message:"\xc9 necess\xe1rio conter 11 caracteres."}):t.addIssue({path:["cpf"],code:d.z.ZodIssueCode.custom,message:"Voc\xea precisa informar o CPF."})),"card"===e.method&&"stripe"!==e.bankCard&&[["cardNumber","N\xfamero do cart\xe3o"],["cardMonthYear","M\xeas/Ano de vencimento"],["cardCVV","CVV"]].forEach(o=>{let[a,n]=o;e[a]||t.addIssue({path:[a],code:d.z.ZodIssueCode.custom,message:"".concat(n," \xe9 obrigat\xf3rio.")})})}),f=e=>{var t,o,d,v,f,g;let{children:h}=e,{register:y,handleSubmit:x,setValue:b,watch:S,formState:{errors:I}}=(0,l.cI)({mode:"all",criteriaMode:"all",resolver:(0,r.F)(p),defaultValues:{method:"pix",hasData:!1,name:"",cpf:""}}),[w,C]=(0,i.useState)(""),[z,k]=(0,i.useState)(!1),[E,_]=(0,i.useState)({name:"",taxa:null}),{user:P,infosHeader:V}=(0,c.O)(),[Z,j]=(0,i.useState)({pix:(null==V?void 0:null===(t=V.payment)||void 0===t?void 0:t.pix)?null==V?void 0:null===(o=V.payment)||void 0===o?void 0:o.pix:null,card:(null==V?void 0:null===(d=V.payment)||void 0===d?void 0:d.card)?null==V?void 0:null===(v=V.payment)||void 0===v?void 0:v.card:null,ltc:null!=V&&null!==(f=V.payment)&&void 0!==f&&!!f.ltc&&(null==V?void 0:null===(g=V.payment)||void 0===g?void 0:g.ltc)}),q={mercadopago:!1,suitpay:!1,pagseguro:!0,asaas:!0,stripe:!1};(0,i.useEffect)(()=>{var e,t,o,a,n,i;(null==V?void 0:null===(e=V.payment)||void 0===e?void 0:e.pix)&&q[null==V?void 0:null===(t=V.payment)||void 0===t?void 0:t.pix]&&b("hasData",!0),(null==V?void 0:null===(o=V.payment)||void 0===o?void 0:o.card)&&b("bankCard",null==V?void 0:null===(n=V.payment)||void 0===n?void 0:n.card),(null==V?void 0:null===(a=V.payment)||void 0===a?void 0:a.pix)&&b("bankPix",null==V?void 0:null===(i=V.payment)||void 0===i?void 0:i.pix)},[Z]),(0,i.useEffect)(()=>{let e=localStorage.getItem("email"),t=localStorage.getItem("name"),o=localStorage.getItem("cpf");if(null==P?void 0:P.email){b("email",P.email),b("confirmEmail",P.email),t&&o&&(b("name",t||""),b("cpf",o||""));return}if(e){b("email",e),b("confirmEmail",e),b("name",t||""),b("cpf",o||"");return}},[P]);let[N,M]=(0,i.useState)([]);(0,i.useEffect)(()=>{{let e=localStorage.getItem("cart");e&&M(JSON.parse(e))}},[]),(0,i.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(N))},[N]);let[$,O]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=null;return $&&(e=setTimeout(()=>{O(!1)},2e3)),()=>{e&&clearTimeout(e)}},[$]);let[R,D]=(0,i.useState)(!1),J=(0,u.useRouter)(),[L,F]=(0,i.useState)(""),T=()=>{let e=null==N?void 0:N.reduce((e,t)=>e+t.value*t.amount,0),t=0;if(E&&(E.taxa||E.discount_value)){let e=null==N?void 0:N.filter(e=>{var t,o,a,n;let i=(null==E?void 0:E.products)&&(null==E?void 0:null===(t=E.products)||void 0===t?void 0:t.length)>0,l=!!i&&E.products.includes(e.product),r=(null==E?void 0:E.categories)&&(null==E?void 0:null===(o=E.categories)||void 0===o?void 0:o.length)>0,d=!!r&&E.categories.includes(e.category),u=(null==E?void 0:E.variants)&&(null==E?void 0:null===(a=E.variants)||void 0===a?void 0:a.length)>0,c=!!u&&(null==e?void 0:e.variant)&&(null==E?void 0:null===(n=E.variants)||void 0===n?void 0:n.includes(null==e?void 0:e.variant));return!(i||r||u)||l||d||c}),o=null==e?void 0:e.reduce((e,t)=>e+t.value*t.amount,0);o>0&&("porcentagem"===E.type&&E.taxa?t=E.taxa/100*o:(null==E?void 0:E.type)==="fixo"&&(null==E?void 0:E.discount_value)&&(t=E.discount_value),E.max_discount&&E.max_discount>0&&(t=Math.min(t,E.max_discount)),t=Math.min(t,o))}let o=e-t;"function"==typeof window.fbq&&(console.warn("InitiateCheckout"),window.fbq("track","InitiateCheckout",{value:o,currency:"BRL",content_type:"product",content_ids:null==N?void 0:N.map(e=>e.variant||e.product),contents:null==N?void 0:N.map(e=>({id:e.variant||e.product,quantity:e.amount,item_price:e.value,name:e.name}))})),"function"==typeof window.gtag&&window.gtag("event","begin_checkout",{currency:"BRL",value:o,coupon:(null==E?void 0:E.name)||void 0,items:null==N?void 0:N.map(e=>({item_id:e.variant||e.product,item_name:e.name,quantity:e.amount,price:e.value}))})},Y=async e=>{var t,o,a;if(F(""),(null==V?void 0:null===(t=V.termos)||void 0===t?void 0:t.conteudo)&&!z)return F("\xc9 necess\xe1rio aceitar os Termos de Servi\xe7o para continuar.");D(!0);let i=N.map(e=>({categoria:e.category,produto:e.product,variante:null==e?void 0:e.variant,quantidade:e.amount,campos:null==e?void 0:e.fields.map(e=>({...e,conteudo:e.valor}))})),l=await (0,m.$1)(),r=l.affiliate,d=l.utm;await (0,n.J)({url:"/comprar",data:{email:e.email,metodo:e.method,nome:"suitpay"===Z.pix?"Jos\xe9 da Silva":e.name,cpf:"suitpay"===Z.pix?"927.300.300-18":e.cpf,cupom:e.cupom,carrinho:i,afiliado:r,utm:d,numero:e.cardNumber,mes:null===(o=e.cardMonthYear)||void 0===o?void 0:o.split("/")[0],ano:null===(a=e.cardMonthYear)||void 0===a?void 0:a.split("/")[1],cvv:e.cardCVV},method:"POST",auth:!1,header:{"g-response":w}}).then(t=>{if(t.status){if(localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("cpf",e.cpf),localStorage.setItem("terms","yes"),T(),"pix"===e.method||"ltc"===e.method)J.push("/payment/".concat(t.data.id));else if("card"===e.method&&"mercadopago"===Z.card){J.push("/payment/".concat(t.data.id));return}else if("card"===e.method&&"mercadopago"!==Z.card){let e=window.open("".concat(t.data.url),"_blank");if(!e||e.closed||void 0===e.closed)return window.location.href=t.data.url;J.push("/payment/".concat(t.data.id))}else if(e.method.includes("checkout")){let e=window.open("".concat(t.data.url),"_blank");if(!e||e.closed||void 0===e.closed)return window.location.href=t.data.url;J.push("/payment/".concat(t.data.id))}}else{var o,a,n,i;if(null==t?void 0:null===(o=t.error)||void 0===o?void 0:o.motivo){(0,m.Gj)({motivo:null==t?void 0:null===(a=t.error)||void 0===a?void 0:a.motivo,email:null==t?void 0:null===(n=t.error)||void 0===n?void 0:n.email,ip:null==t?void 0:null===(i=t.error)||void 0===i?void 0:i.ip});return}(null==t?void 0:t.error)&&F(String(t.error))}}),D(!1)};return(0,a.jsx)(s.Provider,{value:{loading:R,genPayment:Y,register:y,handleSubmit:x,errors:I,setValue:b,watch:S,addItemCart:e=>{((null==e?void 0:e.variant)?N.some(t=>t.variant===(null==e?void 0:e.variant)):N.some(t=>t.product===e.id))||(O(!0),M(t=>{var o;return[...t,{product:null==e?void 0:e.id,category:null==e?void 0:e.categoria,variant:null==e?void 0:e.variant,type:null==e?void 0:e.type,name:e.nome,icon:(null==e?void 0:e.imagens)&&null!==(o=null==e?void 0:e.imagens[0])&&void 0!==o?o:null,stock:null==e?void 0:e.estoque,min:null==e?void 0:e.minimo,max:null==e?void 0:e.maximo,value:null==e?void 0:e.valor,amount:null==e?void 0:e.quantidade,automatic:null==e?void 0:e.automatic,fields:(null==e?void 0:e.campos)||[]}]}))},cart:N,setCart:M,cartNotification:$,isProductInCart:(e,t)=>"product"===e?N.some(e=>e.product===t):"variant"===e&&N.some(e=>e.variant===t),payments:Z,setPayments:j,discount:E,setDiscount:_,errorGen:L,terms:z,setTerms:k,setTokenTurnstile:C,tokenTurnstile:w},children:h})},g=()=>(0,i.useContext)(s)},50671:function(e,t,o){o.d(t,{Z:function(){return i}});var a=o(57437),n=o(76529);function i(e){let{children:t,type:o,optional:i,required:l,Weight:r,Size:d,Height:u,className:c,onClick:m}=e;return(0,a.jsx)(a.Fragment,{children:!o&&(0,a.jsx)(n.Style,{onClick:m,className:c,style:{fontWeight:r,fontSize:"".concat(d,"px"),lineHeight:"".concat(u,"px")},children:t})||"list"===o&&(0,a.jsxs)(n.List,{children:[t," ",i&&(0,a.jsx)(n.Span,{children:"( opcional )"})," ",l&&(0,a.jsx)(n.Required,{children:"*"})]})})}},76529:function(e,t,o){o.d(t,{List:function(){return r},Required:function(){return l},Span:function(){return i},Style:function(){return n}});var a=o(37041);let n=a.ZP.h1.withConfig({componentId:"sc-296417d8-0"})(["font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:",";"],e=>{let{theme:t}=e;return t.text.h1}),i=a.ZP.span.withConfig({componentId:"sc-296417d8-1"})(["font-style:normal;font-weight:400 !important;font-size:11px !important;line-height:12px !important;color:"," !important;"],e=>{let{theme:t}=e;return t.text.p}),l=a.ZP.span.withConfig({componentId:"sc-296417d8-2"})(["font-style:normal;font-weight:400 !important;font-size:15px !important;line-height:15px !important;color:"," !important;"],e=>{let{theme:t}=e;return t.color.red}),r=a.ZP.h1.withConfig({componentId:"sc-296417d8-3"})(["display:flex;align-items:center;gap:0.3rem;font-style:normal;font-weight:500;font-size:13px;line-height:16px;color:",";"],e=>{let{theme:t}=e;return t.text.h1})},7667:function(e,t,o){o.d(t,{GlobalProvider:function(){return d},O:function(){return u}});var a=o(57437),n=o(49991);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return Math.floor(e/1e3)};var l=o(2265);let r=(0,l.createContext)({}),d=e=>{let{infos:t,userInfo:o,children:d}=e,[u,c]=(0,l.useState)(t);(0,l.useEffect)(()=>{c(t)},[t]);let m=async()=>{await (0,n.pQ)()};(0,l.useEffect)(()=>{var e;(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.error)&&(console.warn("token deletado"),m())},[t]);let[s,v]=(0,l.useState)(o||{});(0,l.useEffect)(()=>{v(o||{})},[o]);let[p,f]=(0,l.useState)(null),[g,h]=(0,l.useState)(!1),[y,x]=(0,l.useState)(!1),[b,S]=(0,l.useState)(!1),[I,w]=(0,l.useState)(0),[C,z]=(0,l.useState)(55);return(0,l.useEffect)(()=>{let e=Number(localStorage.getItem("warning"));localStorage.getItem("warning")&&e>1705553234?S(!1):S(!0)},[]),(0,a.jsx)(r.Provider,{value:{user:s,setUser:v,nav:g,setNav:h,warning:b,CloseWarning:()=>{S(!1),localStorage.setItem("warning",String(i())),w(0)},warningHeight:I,setWarningHeight:w,crisp:y,setCrisp:x,headerHeight:C,setHeaderHeight:z,termsText:p,setTermsText:f,infosHeader:u},children:d})},u=()=>(0,l.useContext)(r)},49991:function(e,t,o){o.d(t,{$1:function(){return u},Eq:function(){return d},Gj:function(){return r},H0:function(){return i},MP:function(){return n},o4:function(){return l},pQ:function(){return c}}),o(74590);var a=o(58064),n=(0,a.$)("ed42fac342c1e0439dcedcd66494a47b1cc460cd"),i=(0,a.$)("0fe24aa671691c61e22ca6bab1e6a79b9e3be70a"),l=(0,a.$)("1d6e26248b7fda10006db6ff9bca916d72859ef8"),r=(0,a.$)("bcad150dd9918ae808eb463de1529f46574f6915"),d=(0,a.$)("cd0b138febe56aa14c78cfee9d37a734df36bf02"),u=(0,a.$)("72998e883e115fe6073a37ad951ed4e2f116f7b4"),c=(0,a.$)("83aa724eb6cf7f0216120350c3b50aeed6d2b877")},56225:function(e,t,o){o.d(t,{J:function(){return a}}),o(74590);var a=(0,o(58064).$)("d5583b14a6c95a2e409c40b3f8940a9de6b821d7")},40633:function(e,t,o){o.d(t,{h:function(){return n}});let a=Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"});function n(e){return a.format(e)}}}]);